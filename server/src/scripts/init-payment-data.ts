import { PrismaClient } from '../../prisma/generated';

const prisma = new PrismaClient();

async function initPaymentData() {
  try {
    console.log('üöÄ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–ª–∞—Ç–µ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã...');

    // –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –ø–ª–∞–Ω—ã –ø–æ–¥–ø–∏—Å–æ–∫
    const plans = [
      {
        name: '–ü–ª–∞—Ç–Ω–æ –≤–µ—Ä—Å–∏—è',
        price: 199,
        currency: 'RUB',
        interval: 'MONTHLY',
        features: JSON.stringify([
          '–î–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –±–∞–∑–æ–≤—ã–º –≥–∞–π–¥–∞–º',
          '5 —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ –º–µ—Å—è—Ü',
          '–ë–∞–∑–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤',
          '–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ email',
          '–î–æ—Å—Ç—É–ø –∫ AI-—á–∞—Ç—É',
        ]),
        isActive: true,
      },
      {
        name: '–ü—Ä–µ–º–∏—É–º (–º–µ—Å—è—Ü)',
        price: 299,
        currency: 'RUB',
        interval: 'MONTHLY',
        features: JSON.stringify([
          '–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ü–ª–∞—Ç–Ω–æ –≤–µ—Ä—Å–∏–∏',
          '–ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è',
          '–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ AI-—á–∞—Ç—É',
          '–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤',
          '–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ 24/7',
          '–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –∞–¥–∞–ø—Ç–∞—Ü–∏–∏',
          '–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ –≥–∞–π–¥—ã –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã',
        ]),
        isActive: true,
      },
      {
        name: '–ü—Ä–µ–º–∏—É–º (6 –º–µ—Å—è—Ü–µ–≤)',
        price: 1499,
        currency: 'RUB',
        interval: 'MONTHLY',
        features: JSON.stringify([
          '–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ü—Ä–µ–º–∏—É–º (–º–µ—Å—è—Ü)',
          '–°–∫–∏–¥–∫–∞ 17% –ø—Ä–∏ –æ–ø–ª–∞—Ç–µ –∑–∞ 6 –º–µ—Å—è—Ü–µ–≤',
          '–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ 24/7',
          '–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –∞–¥–∞–ø—Ç–∞—Ü–∏–∏',
          '–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ –≥–∞–π–¥—ã –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã',
          '–î–æ—Å—Ç—É–ø –∫ –∑–∞–∫—Ä—ã—Ç—ã–º –≤–µ–±–∏–Ω–∞—Ä–∞–º',
          '–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –º–µ–Ω—Ç–æ—Ä',
        ]),
        isActive: true,
      },
      {
        name: '–ü—Ä–µ–º–∏—É–º (–≥–æ–¥)',
        price: 2990,
        currency: 'RUB',
        interval: 'YEARLY',
        features: JSON.stringify([
          '–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ü—Ä–µ–º–∏—É–º (–º–µ—Å—è—Ü)',
          '–°–∫–∏–¥–∫–∞ 17% –ø—Ä–∏ –æ–ø–ª–∞—Ç–µ –∑–∞ –≥–æ–¥',
          '–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ 24/7',
          '–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –∞–¥–∞–ø—Ç–∞—Ü–∏–∏',
          '–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ –≥–∞–π–¥—ã –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã',
          '–î–æ—Å—Ç—É–ø –∫ –∑–∞–∫—Ä—ã—Ç—ã–º –≤–µ–±–∏–Ω–∞—Ä–∞–º',
          '–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –º–µ–Ω—Ç–æ—Ä',
          '–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å—ã',
        ]),
        isActive: true,
      },
    ];

    // –£–¥–∞–ª—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–ª–∞–Ω—ã
    await prisma.subscriptionPlan.deleteMany();

    // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–µ –ø–ª–∞–Ω—ã
    for (const plan of plans) {
      await prisma.subscriptionPlan.create({
        data: plan,
      });
      console.log(`‚úÖ –°–æ–∑–¥–∞–Ω –ø–ª–∞–Ω: ${plan.name} - ${plan.price} ${plan.currency}`);
    }

    console.log('üéâ –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã!');
    console.log('');
    console.log('üìã –°–æ–∑–¥–∞–Ω–Ω—ã–µ –ø–ª–∞–Ω—ã:');
    const createdPlans = await prisma.subscriptionPlan.findMany();
    createdPlans.forEach((plan: any) => {
      console.log(`  - ${plan.name}: ${plan.price} ${plan.currency} (${plan.interval})`);
    });

  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö:', error);
  } finally {
    await prisma.$disconnect();
  }
}

// –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∫—Ä–∏–ø—Ç
initPaymentData(); 